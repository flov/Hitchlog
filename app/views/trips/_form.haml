= form_for trip, :html => {:class => "trip_form"} do |f|
  %table.float_left
    = render 'shared/error_explanation', :model => trip
    %tr.text_field
      %td= f.label :from
      %td.suggest_td
        = f.text_field :from, :autofocus => '', :required => '', :placeholder => t('activerecord.attributes.trip.from')
        #suggest_from.suggest

    %tr.text_field
      %td= f.label :to
      %td.suggest_td
        = f.text_field :to, :required=>'', :placeholder => t('activerecord.attributes.trip.to')
        #suggest_to.suggest

    - if trip.new_record?
      %tr.text_field
        %td= f.label :hitchhikes
        %td= f.text_field :hitchhikes, :required => '', :placeholder => t('activerecord.attributes.trip.hitchhikes')
      
    %tr.text_field
      %td= f.label :start
      - if trip.start.nil?
        %td= f.text_field :start, :placeholder => t('activerecord.attributes.trip.start')
      - else
        %td= text_field_tag 'trip[start]', trip.start.strftime("%d/%m/%Y %H:%M"), :size => 30, :placeholder => t('activerecord.attributes.trip.start')
    %tr.text_field
      %td= f.label :duration
      %td= f.text_field :duration, :placeholder => t('activerecord.attributes.trip.duration')
    %tr.select_field
      %td= f.label :travelling_with, :required=>''
      %td
        = select_tag "trip[travelling_with]", "<option value='0'>Alone</option><option value='1'>With 1 Person</option><option value='2'>With 2 People</option><option value='3'>With 3 People</option><option value='4'>With 4 People</option>".html_safe
        .float_right#trip_distance_display.trip_km_display
          

    =f.hidden_field :route
    =f.hidden_field :distance
    =f.hidden_field :gmaps_duration

    =f.hidden_field :from_lat
    =f.hidden_field :from_lng
    =f.hidden_field :from_formatted_address
    =f.hidden_field :from_city
    =f.hidden_field :from_country
    =f.hidden_field :from_postal_code
    =f.hidden_field :from_street
    =f.hidden_field :from_street_no

    =f.hidden_field :to_lat
    =f.hidden_field :to_lng
    =f.hidden_field :to_formatted_address
    =f.hidden_field :to_city
    =f.hidden_field :to_country
    =f.hidden_field :to_postal_code
    =f.hidden_field :to_street
    =f.hidden_field :to_street_no    

  = f.submit t('.step1_2'), :class => 'button light'

- content_for :javascript_at_bottom do
  = javascript_include_tag 'map'
  = javascript_include_tag 'new_trip'
